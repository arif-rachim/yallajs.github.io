{"version":3,"sources":["todomvc.js"],"names":[],"mappings":"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","file":"todomvc-compiled.js","sourcesContent":["\r\nfunction getItemFromStorage(key,defaultVal){\r\n    let item = localStorage.getItem(key);\r\n    if(item){\r\n        item = JSON.parse(item);\r\n    }\r\n    return item || defaultVal;\r\n}\r\n\r\nfunction saveItemToStorage(key,item){\r\n    \"use strict\";\r\n    localStorage.setItem(key,JSON.stringify(item));\r\n}\r\n\r\nlet todos = getItemFromStorage('todos',[]);\r\nlet state = getItemFromStorage('state',{\r\n    showTodoMvc : false,\r\n    toggle : 'all'\r\n});\r\n\r\nfunction patchUpdate(){\r\n    saveItemToStorage('todos',todos);\r\n    saveItemToStorage('state',state);\r\n    render(app(),document.getElementById('root'));\r\n}\r\n\r\nfunction openTodoMvc(){\r\n    state.showTodoMvc = true;\r\n    patchUpdate();\r\n}\r\n\r\nfunction backToHome(){\r\n    state.showTodoMvc = false;\r\n    patchUpdate();\r\n}\r\nfunction onkeyup(e){\r\n    if(e.key == 'Enter'){\r\n        let todo = e.target.value;\r\n        todos.push({todo:todo,completed:false,editing:false});\r\n        e.target.value = '';\r\n        patchUpdate();\r\n    }\r\n    return false;\r\n}\r\nfunction deleteThis(e){\r\n    let key = e.target.getAttribute('data-key');\r\n    todos.forEach((t,index) => {\r\n        if(t.todo == key){\r\n            todos.splice(index,1);\r\n        }\r\n    });\r\n    patchUpdate();\r\n}\r\n\r\nfunction checkboxChange(e){\r\n    let index = parseInt(e.target.getAttribute('data-index'));\r\n    todos[index].completed = e.target.checked;\r\n    patchUpdate();\r\n}\r\nfunction selectionChange(e){\r\n    state.toggle = e.target.getAttribute('data-type');\r\n    patchUpdate();\r\n\r\n}\r\nfunction clearCompleted(e){\r\n    todos.forEach(t => t.completed = false);\r\n    patchUpdate();\r\n}\r\n\r\nfunction toggleCompletion(e){\r\n    todos.forEach(t => t.completed = e.target.checked);\r\n    patchUpdate();\r\n}\r\nfunction editTodo(e){\r\n    let index = parseInt(e.target.getAttribute('data-index'));\r\n    todos[index].editing = true;\r\n    patchUpdate();\r\n}\r\n\r\nfunction updateTodo(e) {\r\n    if(e.key == 'Enter'){\r\n        let index = parseInt(e.target.getAttribute('data-index'));\r\n        todos[index].todo = e.target.value;\r\n        todos[index].editing = false;\r\n        patchUpdate();\r\n    }\r\n}\r\n\r\nvar app = () => html`\r\n    <div style=\"display:${state.showTodoMvc ? 'none' : 'block' }\">\r\n        <section class=\"home\">\r\n            <h1>Hello World !</h1>\r\n            <h2>We have been busy with Yallajs 2.0 codename <span class=\"bellona\">Bellona</span></h2>\r\n            <p>We've managed to find the newest way of <span style=\"color: mediumvioletred;font-style: italic;font-weight: bold\">breaking all the records we've created</span>. YallaJS 2.0 is lighter, easier to learn, and much faster.</p>\r\n            <p>YallaJS 2.0 will be released shortly and we are very proud of the progress we have done.</p>\r\n            <p>This website is built with yallajs 2.0, while we work to improve this framework, enjoy the <a href=\"#\" onclick=\"${openTodoMvc}\">Todomvc App</a> created using <span class=\"bellona\">Bellona</span>.</p>\r\n        </section>\r\n    </div>\r\n    <div style=\"display:${state.showTodoMvc ? 'block' : 'none'}\">\r\n        <section class=\"todoapp\">\r\n\t\t\t<header class=\"header\">\r\n\t\t\t\t<h1 onclick=\"${backToHome}\">Yalla !</h1>\r\n\t\t\t\t<input class=\"new-todo\" placeholder=\"What needs to be done?\" autofocus onkeyup=\"${onkeyup}\">\r\n\t\t\t</header>\r\n\t\t\t<section class=\"main\">\r\n\t\t\t\t<input class=\"toggle-all\" type=\"checkbox\" onclick=\"${toggleCompletion}\">\r\n\t\t\t\t<label for=\"toggle-all\">Mark all as complete</label>\r\n\t\t\t\t<ul class=\"todo-list\">\r\n\t\t\t\t    ${htmlMap(todos.filter(t => state.toggle == 'active' ? !t.completed : state.toggle == 'completed' ? t.completed : true),'todo',(todo,index) => {\r\n                        return html`\r\n                        <li class=\"${todo.editing ? 'editing' : todo.completed ? 'completed' : ''}\">\r\n                            <div class=\"view\">\r\n                                <input class=\"toggle\" type=\"checkbox\" checked=\"${todo.completed}\" onchange=\"${checkboxChange}\" data-index=\"${index}\">\r\n                                <label ondblclick=\"${editTodo}\" data-index=\"${index}\">${todo.todo}</label>\r\n                                <button class=\"destroy\" onclick=\"${deleteThis}\" data-key=\"${todo.todo}\"></button>\r\n                            </div>\r\n                            ${todo.editing ? html`<input class=\"edit\" value=\"${todo.todo}\" onkeyup=\"${updateTodo}\" data-index=\"${index}\">` : html``}\r\n                        </li>\r\n                        `\r\n                    })}\r\n                </ul>\r\n\t\t\t</section>\r\n\t\t\t<footer class=\"footer\" style=\"display: block\">\r\n\t\t\t\t<span class=\"todo-count\">\r\n\t\t\t\t    <strong>${todos.filter(i => !i.completed).length > 0 ? todos.filter(i => !i.completed).length : 'No'}</strong>\r\n\t\t\t\t    item${todos.filter(i => !i.completed).length > 1 ? 's' : ''} left\r\n                </span>\r\n\t\t\t\t<ul class=\"filters\">\r\n\t\t\t\t\t<li>\r\n\t\t\t\t\t\t<a href=\"#/\" onclick=\"${selectionChange}\" data-type=\"all\" class=\"${state.toggle == 'all' ? 'selected' : ''}\">All</a>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t\t<li>\r\n\t\t\t\t\t\t<a href=\"#/\" onclick=\"${selectionChange}\" data-type=\"active\" class=\"${state.toggle == 'active' ? 'selected' : ''}\">Active</a>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t\t<li>\r\n\t\t\t\t\t\t<a href=\"#/\" onclick=\"${selectionChange}\" data-type=\"completed\" class=\"${state.toggle == 'completed' ? 'selected' : ''}\">Completed</a>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t</ul>\r\n\t\t\t\t<button class=\"clear-completed\" onclick=\"${clearCompleted}\">Clear completed</button>\r\n\t\t\t</footer>\r\n\t\t</section>\r\n\t\t<footer class=\"info\">\r\n\t\t\t<p>Double-click to edit a todo</p>\r\n\t\t\t<p>Created by <a href=\"https://github.com/yallajs\">Arif Rachim YallaJS</a></p>\r\n\t\t</footer>\r\n        \r\n    </div>\r\n`;\r\n\r\npatchUpdate();"]}